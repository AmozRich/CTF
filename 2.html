<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CTF Challenges</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.js"></script>
    <style>
        .challenge-card {
            transition: transform 0.2s;
        }
        .challenge-card:hover {
            transform: translateY(-5px);
        }
        .completed {
            border: 2px solid #10B981;
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <!-- Progress Bar -->
    <div class="fixed top-0 w-full bg-gray-800 p-4 z-50">
        <div class="max-w-4xl mx-auto">
            <div class="flex items-center justify-between mb-2">
                <h2 class="text-xl font-bold">Progress</h2>
                <span id="progress-text">0/10 Challenges Complete</span>
            </div>
            <div class="w-full bg-gray-700 rounded-full h-4">
                <div id="progress-bar" class="bg-green-500 rounded-full h-4 transition-all duration-500" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container mx-auto px-4 pt-28 pb-12">
        <h1 class="text-4xl font-bold text-center mb-12">CTF Challenges</h1>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto">
            <!-- Challenge cards will be generated here -->
        </div>
    </div>

    <script>
        const challenges = [
            {
                id: 1,
                title: "Web Exploitation 101",
                description: "A simple web exploitation challenge to get you started. Find the hidden flag in the source code.",
                difficulty: "Easy",
                points: 100,
                flag:"10"
                //flag: "CTF{web_101_done}" // Replace with your actual flag
            },
            {
                id: 2,
                title: "Cryptography Basic",
                description: "Decode this basic cryptographic message to find the hidden flag.",
                difficulty: "Easy",
                points: 150,
                flag:"10"
                //flag: "CTF{crypto_basic}" // Replace with your actual flag
            },
            {
                id: 3,
                title: "Binary Analysis",
                description: "Analyze this simple binary file to extract the hidden flag.",
                difficulty: "Medium",
                points: 200,
                flag:"10"
                //flag: "CTF{binary_101}" // Replace with your actual flag
            },
            {
                id: 4,
                title: "Network Traffic",
                description: "Analyze network traffic to find the hidden flag.",
                difficulty: "Medium",
                points: 250,
                flag:"10"
                //flag: "CTF{network_found}" // Replace with your actual flag
            },
            {
                id: 5,
                title: "Steganography",
                description: "Find the hidden message within this image.",
                difficulty: "Medium",
                points: 300,
                flag:"10"
                //flag: "CTF{stego_master}" // Replace with your actual flag
            },
            {
                id: 6,
                title: "Reverse Engineering",
                description: "Reverse engineer this application to find the flag.",
                difficulty: "Hard",
                points: 350,
                flag:"10"
                //flag: "CTF{reverse_done}" // Replace with your actual flag
            },
            {
                id: 7,
                title: "SQL Injection",
                description: "Exploit SQL injection vulnerability to retrieve the flag.",
                difficulty: "Hard",
                points: 400,
                flag:"10"
                //flag: "CTF{sql_master}" // Replace with your actual flag
            },
            {
                id: 8,
                title: "Memory Forensics",
                description: "Analyze memory dump to find the hidden flag.",
                difficulty: "Hard",
                points: 450,
                flag:"10"
                //flag: "CTF{memory_found}" // Replace with your actual flag
            },
            {
                id: 9,
                title: "Buffer Overflow",
                description: "Exploit buffer overflow vulnerability to get the flag.",
                difficulty: "Expert",
                points: 500,
                flag:"10"
                //flag: "CTF{buffer_pwned}" // Replace with your actual flag
            },
            {
                id: 10,
                title: "Advanced Crypto",
                description: "Solve this advanced cryptographic challenge.",
                difficulty: "Expert",
                points: 550,
                flag:"10"
                //flag: "CTF{crypto_master}" // Replace with your actual flag
            }
        ];

        // Initialize progress from localStorage
        let completedChallenges = JSON.parse(localStorage.getItem('completedChallenges')) || [];
        updateProgress();

        // Generate challenge cards
        const challengeContainer = document.querySelector('.grid');
        challenges.forEach(challenge => {
            const card = createChallengeCard(challenge);
            challengeContainer.appendChild(card);
        });

        function createChallengeCard(challenge) {
            const div = document.createElement('div');
            div.className = `challenge-card bg-gray-800 rounded-lg p-6 shadow-lg ${completedChallenges.includes(challenge.id) ? 'completed' : ''}`;
            
            // Set difficulty color
            let difficultyColor;
            switch(challenge.difficulty) {
                case 'Easy': difficultyColor = 'text-green-500'; break;
                case 'Medium': difficultyColor = 'text-yellow-500'; break;
                case 'Hard': difficultyColor = 'text-orange-500'; break;
                case 'Expert': difficultyColor = 'text-red-500'; break;
            }

            div.innerHTML = `
                <h3 class="text-xl font-bold mb-2">${challenge.title}</h3>
                <p class="text-gray-400 mb-4">${challenge.description}</p>
                <div class="flex justify-between items-center mb-4">
                    <span class="${difficultyColor}">${challenge.difficulty}</span>
                    <span class="text-yellow-500">${challenge.points} pts</span>
                </div>
                <div class="flex items-center space-x-2">
                    <input type="text" placeholder="Enter flag" class="flex-1 px-3 py-2 bg-gray-700 rounded text-white">
                    <button onclick="submitFlag(${challenge.id}, this)" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded">
                        Submit
                    </button>
                </div>
            `;
            return div;
        }

        function submitFlag(challengeId, buttonElement) {
            const challenge = challenges.find(c => c.id === challengeId);
            const input = buttonElement.previousElementSibling;
            const card = buttonElement.closest('.challenge-card');
            
            if (input.value === challenge.flag) {
                if (!completedChallenges.includes(challengeId)) {
                    completedChallenges.push(challengeId);
                    localStorage.setItem('completedChallenges', JSON.stringify(completedChallenges));
                    card.classList.add('completed');
                    updateProgress();
                }
                alert('Correct flag! Challenge completed!');
                input.value = '';
            } else {
                alert('Incorrect flag. Try again!');
            }
        }

        function updateProgress() {
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            const progress = (completedChallenges.length / challenges.length) * 100;
            
            progressBar.style.width = `${progress}%`;
            progressText.textContent = `${completedChallenges.length}/${challenges.length} Challenges Complete`;
        }
    </script>
</body>
</html>